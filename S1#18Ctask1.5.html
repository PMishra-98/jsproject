<!DOCTYPE html>
<html>
    <head>
       <style>
        .outer{
            width: 100px;
            margin-right: 80px;
            position: relative;
            display: inline-block;
        }
        .cell{
            display: inline-block;
            width: 160px;
            margin-right: 15px;
            font-weight: bold;
            text-align: center;
        }
        .imagesize{
            width: 150px;
            height: 200px;
        }
        .overlay{
            position: absolute;
            z-index: 2;
        }
       </style>
    </head>
    <body>
        <button type="submit" onclick="startFirst()" style="background-color: black;color: white;">4 Col</button>
        <button type="submit" onclick="startSecond()" style="background-color: black;color: white;">5 Col</button>
        <button type="submit" onclick="startThird()" style="background-color: black;color: white;">6 Col</button>
        <div  id="sum"></div>
        <div id="show"></div>
    </body>
    <script>
          let images =[{value : 1, color : "blue", image : "https://i.ibb.co/1bPyBNx/1-blue.jpg"},
                     {value : 1, color : "green", image : "https://i.ibb.co/5k4cDYm/1-green.jpg"},
                     {value : 1, color : "red", image : "https://i.ibb.co/ZGJDKmt/1-red.jpg"},
                     {value : 2, color : "blue", image : "https://i.ibb.co/S5bRz8n/2-blue.jpg"},
                     {value : 2, color : "green", image : "https://i.ibb.co/gm12HXN/2-green.jpg"},
                     {value : 2, color : "red", image : "https://i.ibb.co/VWnvwqM/2-red.jpg"},
                     {value : 3, color : "blue", image : "https://i.ibb.co/ssCTJkr/3-blue.jpg"},
                     {value : 3, color : "green", image : "https://i.ibb.co/5hGS3bx/3-green.jpg"},
                     {value : 3, color : "red", image : "https://i.ibb.co/cwwg3X4/3-red.jpg"},
                     {value : 4, color : "blue", image : "https://i.ibb.co/3W5YvMg/4-blue.jpg"},
                     {value : 4, color : "green", image : "https://i.ibb.co/W0mTkdc/4-green.jpg"},
                     {value : 4, color : "red", image : "https://i.ibb.co/1Kphcg9/4-red.jpg"},
                     {value : 5, color : "blue", image : "https://i.ibb.co/GVhc56P/5-blue.jpg"},
                     {value : 5, color : "green", image : "https://i.ibb.co/G3zYcMQ/5-green.jpg"},
                     {value : 5, color : "red", image : "https://i.ibb.co/Zzzssy2/5-red.jpg"},
                     {value : 6, color : "blue", image : "https://i.ibb.co/jg2Hgxb/6-blue.jpg"},
                     {value : 6, color : "green", image : "https://i.ibb.co/py7SpN9/6-green.jpg"},
                     {value : 6, color : "red", image : "https://i.ibb.co/7N5bydC/6-red.jpg"}];
        let image1 =[];
    let image2= [];
    let image3=[];
    let image4=[];
    let image5=[];
    let image6=[];
   var blank={value : 0, color : "blank", image : "https://i.ibb.co/7V82p6m/Blank.jpg"};
  let div1 = document.getElementById("show");
  let div2 = document.getElementById("sum");
      var j, temp;
      var str='';
      var sum='';
      var d1='drag1',d2='drag2',d3='drag3',d4='drag4',d5='drag5',d6='drag6';
     var limit = 3;
      arrayDevide();
 function arrayDevide(){
    
     for(let i=0;i<images.length;i++){
         if(image1.length<limit){
             image1.push(images[i]);
         }
        else if(image2.length<limit){
             image2.push(images[i]);
         }
        else if(image3.length<limit){
             image3.push(images[i]);
         }
        else if(image4.length<limit){
             image4.push(images[i]);
         }
        else if(image5.length<limit){
             image5.push(images[i]);
         }
        else if(image6.length<limit){
             image6.push(images[i]);
         }
     }
    
 }
 show();
function startFirst(){
    for(let i=images.length-1;i>=0;i--){
      j = Math.floor(Math.random() * (i+1));
      temp = images[i];
        images[i] =images[j];
       images[j] = temp;
    }
   image1.splice(0,6);
   image2.splice(0,6);
   image3.splice(0,6);
   image4.splice(0,6);
   image5.splice(0,6);
   image6.splice(0,6);
   limit=4
    arrayDevide();
     show();
  }
  function startSecond(){
    for(let i=images.length-1;i>=0;i--){
      j = Math.floor(Math.random() * (i+1));
      temp = images[i];
        images[i] =images[j];
       images[j] = temp;
    }
   image1.splice(0,6);
   image2.splice(0,6);
   image3.splice(0,6);
   image4.splice(0,6);
   image5.splice(0,6);
   image6.splice(0,6);
   limit = 5;
    arrayDevide();
     show();
  }
  function startThird(){
    for(let i=images.length-1;i>=0;i--){
      j = Math.floor(Math.random() * (i+1));
      temp = images[i];
        images[i] =images[j];
       images[j] = temp;
    }
   image1.splice(0,4);
   image2.splice(0,4);
   image3.splice(0,4);
   image4.splice(0,4);
 
   limit=3;
    arrayDevide();
     show();
  }
  function allowDrop(ev){
            ev.preventDefault();
        }
function drag(ev, dragIndex){
            dragImageIndex =dragIndex;
            id=ev.target.id;
           
        }
function drop1(ev,dropIndex){
  ev.preventDefault();
     if(d2==id){
        image1.push(image2[dragImageIndex]);
         image2.splice(dragImageIndex,1);
        }
     if(d3==id){
         image1.push(image3[dragImageIndex]);
         image3.splice(dragImageIndex,1);
       }
       if(d4==id){
        image1.push(image4[dragImageIndex]);
         image4.splice(dragImageIndex,1);
        }
     if(d5==id){
         image1.push(image5[dragImageIndex]);
         image5.splice(dragImageIndex,1);
       } if(d6==id){
        image1.push(image6[dragImageIndex]);
         image6.splice(dragImageIndex,1);
        }
         dragImageIndex=-1;
           show();
        }
function drop2(ev,dropIndex){
  ev.preventDefault();
     if(d1==id){
        image2.push(image1[dragImageIndex]);
         image1.splice(dragImageIndex,1);
        }
     if(d3==id){
         image2.push(image3[dragImageIndex]);
         image3.splice(dragImageIndex,1);
       }
       if(d4==id){
        image2.push(image4[dragImageIndex]);
         image4.splice(dragImageIndex,1);
        }
     if(d5==id){
         image2.push(image5[dragImageIndex]);
         image5.splice(dragImageIndex,1);
       } if(d6==id){
        image2.push(image6[dragImageIndex]);
         image6.splice(dragImageIndex,1);
        }
         dragImageIndex=-1;
           show();
        }
        function drop3(ev,dropIndex){
  ev.preventDefault();
  if(d1==id){
         image3.push(image1[dragImageIndex]);
         image1.splice(dragImageIndex,1);
       }
 else if(d2==id){
        image3.push(image2[dragImageIndex]);
         image2.splice(dragImageIndex,1);
        
        }
 else if(d4==id){
        image3.push(image4[dragImageIndex]);
         image4.splice(dragImageIndex,1);
        }
    else if(d5==id){
         image3.push(image5[dragImageIndex]);
         image5.splice(dragImageIndex,1);
       } 
     else if(d6==id){
        image3.push(image6[dragImageIndex]);
         image6.splice(dragImageIndex,1);
        }
      
         dragImageIndex=-1;
           show();
        }
function drop4(ev,dropIndex){
  ev.preventDefault();
   if(d1==id){
        image4.push(image1[dragImageIndex]);
         image1.splice(dragImageIndex,1);
        }
    else if(d2==id){
        image4.push(image2[dragImageIndex]);
         image2.splice(dragImageIndex,1);
        }
       
    else if(d3==id){
         image4.push(image3[dragImageIndex]);
         image3.splice(dragImageIndex,1);
       }
    else if(d5==id){
         image4.push(image5[dragImageIndex]);
         image5.splice(dragImageIndex,1);
       } 
     else if(d6==id){
        image4.push(image6[dragImageIndex]);
         image6.splice(dragImageIndex,1);
        }
       
         dragImageIndex=-1;
           show();
        }
 function drop5(ev,dropIndex){
  ev.preventDefault();
    if(d1==id){
         image5.push(image1[dragImageIndex]);
         image1.splice(dragImageIndex,1);
       }
   else if(d2==id){
        image5.push(image2[dragImageIndex]);
         image2.splice(dragImageIndex,1);
        }
       
    else if(d3==id){
         image5.push(image3[dragImageIndex]);
         image3.splice(dragImageIndex,1);
       }
      else if(d4==id){
        image5.push(image4[dragImageIndex]);
         image4.splice(dragImageIndex,1);
        } 
     else if(d6==id){
        image5.push(image6[dragImageIndex]);
         image6.splice(dragImageIndex,1);
        }
      
         dragImageIndex=-1;
           show();
        }
  function drop6(ev,dropIndex){
    ev.preventDefault();
     if(d1==id){
        image6.push(image1[dragImageIndex]);
         image1.splice(dragImageIndex,1);
        }
     else if(d2==id){
        image6.push(image2[dragImageIndex]);
         image2.splice(dragImageIndex,1);
       
        }
       
    else if(d3==id){
         image6.push(image3[dragImageIndex]);
         image3.splice(dragImageIndex,1);
       }
    else if(d4==id){
        image6.push(image4[dragImageIndex]);
         image4.splice(dragImageIndex,1);
        }
    else if(d5==id){
         image6.push(image5[dragImageIndex]);
         image5.splice(dragImageIndex,1);
    }
         dragImageIndex=-1;
           show();
        }
       
    function show(){
        var s1=0,s2=0,s3=0,s4=0,s5=0,s6=0; 
      
       str = str+"<div class='outer'>";
          for(let i=0;i<image1.length;i++){
            let styles =  "top:"+i*30+"px";
             s1 += image1[i].value;
             str = str +"<img class='imagesize overlay' src='"+image1[i].image+"' style='"+styles+"' id='drag1' draggable='true' ondragstart='drag(event,"+i+")' ondrop='drop1(event,"+i+")' ondragover='allowDrop(event)'>";
           }
        sum +="<div class='cell'>"+s1+"</div>";
        console.log(s1);
        str = str+"</div>";
        
        str =str+"<div class='outer'>";
        for(let i=0;i<image2.length;i++){
            s2 += image2[i].value;
            let styles =  "top:"+i*30+"px";
            str = str + "<img class='imagesize overlay' src='"+image2[i].image+"' style='"+styles+"' id='drag2' draggable='true' ondragstart='drag(event,"+i+")' ondrop='drop2(event,"+i+")' ondragover='allowDrop(event)'>";
        }
        sum +="<div class='cell'>"+s2+"</div>";
        str = str+"</div>";
        
        str =str+"<div class='outer'>";
         for(let i=0;i<image3.length;i++){
           s3 += image3[i].value;
           let styles =  "top:"+i*30+"px";
            str = str + "<img class='imagesize overlay' src='"+image3[i].image+"' style='"+styles+"' id='drag3' draggable='true' ondragstart='drag(event,"+i+")' ondrop='drop3(event,"+i+")' ondragover='allowDrop(event)'>";
        }
        sum +="<div class='cell'>"+s3+"</div>";
        str = str+"</div>";
       
        str =str+"<div class='outer'>";
             for(let i=0;i<image4.length;i++){
               s4 += image4[i].value;
               let styles =  "top:"+i*30+"px";
                str = str + "<img class='imagesize overlay' src='"+image4[i].image+"' style='"+styles+"' id='drag4' draggable='true' ondragstart='drag(event,"+i+")' ondrop='drop4(event,"+i+")' ondragover='allowDrop(event)'>";
            }
            sum +="<div class='cell'>"+s4+"</div>";
            str = str+"</div>";
           
            str =str+"<div class='outer'>";
            for(let i=0;i<image5.length;i++){
               s5 += image5[i].value;
               let styles =  "top:"+i*30+"px";
                str = str + "<img class='imagesize overlay' src='"+image5[i].image+"' style='"+styles+"' id='drag5' draggable='true' ondragstart='drag(event,"+i+")' ondrop='drop5(event,"+i+")' ondragover='allowDrop(event)'>";
            }
            sum +="<div class='cell'>"+s5+"</div>";
            str = str+"</div>";
           
            str =str+"<div class='outer'>";
           for(let i=0;i<image6.length;i++){
               s6 += image6[i].value;
                let styles =  "top:"+i*30+"px";
                str = str + "<img class='imagesize overlay' src='"+image6[i].image+"' style='"+styles+"' id='drag6' draggable='true' ondragstart='drag(event,"+i+")' ondrop='drop6(event,"+i+")' ondragover='allowDrop(event)'>";
            }
            sum +="<div class='cell'>"+s6+"</div>";
            str = str+"</div>";
      
       div2.innerHTML=sum;
       div1.innerHTML= str;
        str='';
        sum='';
    }
    
    </script>
</html>